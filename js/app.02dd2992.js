(function(e){function t(t){for(var c,o,u=t[0],i=t[1],s=t[2],d=0,b=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,u=1;u<n.length;u++){var i=n[u];0!==r[i]&&(c=!1)}c&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},r={app:0},a=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/quiz-vue/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"31c5":function(e,t,n){},"45d1":function(e,t,n){},"4d73":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t,n,r,a,o){var u=Object(c["x"])("router-view");return Object(c["p"])(),Object(c["d"])(u)}var a=n("5530"),o=(n("f5df1"),n("5aea"),n("5502")),u={name:"App",methods:Object(a["a"])({},Object(o["c"])("categories",["fetchCategories"])),created:function(){this.fetchCategories()}};n("9600");u.render=r;var i,s,l=u,d=n("3835"),b=n("1da1"),f=n("ade3"),O=(n("96cf"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("bc3a")),j=n.n(O),p=function(e){var t,n=document.createElement("p");return n.innerHTML=e,t=n.textContent||n.innerText,n=null,t},g=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=[e[n],e[t]];e[t]=c[0],e[n]=c[1]}return e},v=function(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t),c=new Date;return c.getTime()>n.expiry?(localStorage.removeItem(e),null):n.value},m=function(e,t,n){var c=new Date,r={value:t,expiry:c.getTime()+n};localStorage.setItem(e,JSON.stringify(r))},h="https://opentdb.com",_=j.a.create({baseURL:h,params:{token:v("token")}}),y={getCategories:function(){return Promise.all([_.get("/api_category.php"),_.get("/api_count_global.php")])},getQuestions:function(e){var t=e.categoryId,n=e.amount,c=e.difficulty;return _.get("/api.php",{params:{category:t,amount:n,difficulty:c,token:v("token")}})},getToken:function(){return _.get("/api_token.php?command=request").then((function(e){var t=e.data.token;return m("token",t,216e5)})).catch((function(e){return console.log(e)}))}},C={SET_CATEGORIES:"setCategories",SET_IS_LOADING:"setIsLoading",SET_CURRENT_CATEGORY:"setCurrentCategory",SET_QUESTIONS:"setQuestions",SET_DIFFICULTY:"setDifficulty",SET_AMOUNT:"setAmount",SET_QUESTION_INDEX:"setQuestionIndex",SET_CURRENT_ANSWER:"setCurrentAnswer",CLEAR_QUIZ_STATE:"clearQuizState"},T=C.SET_CATEGORIES,E=C.SET_IS_LOADING,S={state:{categories:[],isLoading:!1},mutations:(i={},Object(f["a"])(i,T,(function(e,t){e.categories=t})),Object(f["a"])(i,E,(function(e,t){e.isLoading=t})),i),actions:{fetchCategories:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,c,r,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n(E,!0),t.prev=2,localStorage.getItem("token")||y.getToken(),t.next=6,y.getCategories();case 6:c=t.sent,r=Object(d["a"])(c,2),o=r[0].data.trivia_categories,u=r[1].data.categories,n(T,o.map((function(e){var t=e.id,n=e.name;return Object(a["a"])({id:t,name:n},u[t])}))),n(E,!1),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](2),n(E,!1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))()}},namespaced:!0},I=n("2909"),k=(n("13d5"),n("b680"),n("159b"),n("99af"),C.SET_CURRENT_CATEGORY),w=C.SET_IS_LOADING,x=C.SET_QUESTIONS,A=C.SET_DIFFICULTY,R=C.SET_AMOUNT,Q=C.SET_QUESTION_INDEX,q=C.SET_CURRENT_ANSWER,N=C.CLEAR_QUIZ_STATE,z=["any","easy","medium","hard"],D=["5","10","15"],L={state:{allDifficulties:z,allAmounts:D,questions:[],answers:[],currentCategory:{name:"Any"},amount:"10",difficulty:null,isLoading:!1,currentQuestionIndex:0},getters:{currentQuestion:function(e){return e.questions[e.currentQuestionIndex]},getResults:function(e){var t=e.questions.reduce((function(t,n,c){var r=n.correct_answer;return p(r)===e.answers[c]?++t:t}),0),n=e.questions.length;return{correctAnswers:t,totalAnswers:n,percentCorrectAnswers:(t/n*100).toFixed(1)}}},mutations:(s={},Object(f["a"])(s,k,(function(e,t){e.currentCategory=t})),Object(f["a"])(s,N,(function(e){e.currentQuestionIndex=0,e.questions=[],e.answers=[]})),Object(f["a"])(s,Q,(function(e,t){e.currentQuestionIndex=t})),Object(f["a"])(s,w,(function(e,t){e.isLoading=t})),Object(f["a"])(s,x,(function(e,t){e.questions=t})),Object(f["a"])(s,q,(function(e,t){e.answers[e.currentQuestionIndex]=t})),Object(f["a"])(s,A,(function(e,t){e.difficulty="any"===t?null:t})),Object(f["a"])(s,R,(function(e,t){e.amount=t})),s),actions:{fetchQuestions:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,c,r,a,o,u,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,c=e.state,r=c.amount,a=c.difficulty,o=c.currentCategory,n(w,!0),t.prev=2,u=o&&o.id,t.next=6,y.getQuestions({amount:r,difficulty:a,categoryId:u});case 6:i=t.sent,s=i.data.results,s.forEach((function(e){e.variants=g([].concat(Object(I["a"])(e.incorrect_answers),[e.correct_answer])),e.correct_answer=p(e.correct_answer),e.question=p(e.question)})),n(x,s),n(w,!1),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](2),n(w,!1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))()}},namespaced:!0},U=!1,B=Object(o["b"])({modules:{categories:S,quiz:L},strict:U,plugins:U?[Object(o["a"])()]:[]}),M=n("6c02"),P=Object(c["D"])("data-v-c254643a");Object(c["s"])("data-v-c254643a");var G=Object(c["g"])("h1",null,"Choose category",-1),F={key:0},Y={key:1},J=Object(c["g"])("h2",null,"Any",-1),$={class:"count"};Object(c["q"])();var W=P((function(e,t,n,r,a,o){var u=Object(c["x"])("router-link");return Object(c["p"])(),Object(c["d"])(c["a"],null,[G,e.isLoading?(Object(c["p"])(),Object(c["d"])("div",F,"Loading...")):(Object(c["p"])(),Object(c["d"])("ul",Y,[Object(c["g"])("li",{onClick:t[1]||(t[1]=function(t){return e.setCurrentCategory({name:"Any"})})},[Object(c["g"])(u,{to:"options"},{default:P((function(){return[J]})),_:1})]),(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.categories,(function(t){var n=t.id,r=t.name,a=t.total_num_of_questions;return Object(c["p"])(),Object(c["d"])("li",{onClick:function(t){return e.setCurrentCategory({id:n,name:r})},key:n},[Object(c["g"])(u,{to:"options"},{default:P((function(){return[Object(c["g"])("h2",null,Object(c["z"])(r),1),Object(c["g"])("div",$,"All questions: "+Object(c["z"])(a),1)]})),_:2},1024)],8,["onClick"])})),128))]))],64)})),X={name:"Categories",computed:Object(a["a"])({},Object(o["f"])("categories",["categories","isLoading"])),methods:Object(a["a"])({},Object(o["e"])("quiz",[C.SET_CURRENT_CATEGORY]))};n("9c29");X.render=W,X.__scopeId="data-v-c254643a";var Z=X,H=Object(c["D"])("data-v-a7f4adee");Object(c["s"])("data-v-a7f4adee");var K={class:"wrapper"},V={key:0},ee={key:1,class:"questions"},te={class:"btns"},ne=Object(c["f"])("prev"),ce=Object(c["f"])("next"),re={class:"finish"},ae=Object(c["f"])("finish");Object(c["q"])();var oe=H((function(e,t,n,r,a,o){var u=Object(c["x"])("RadioButton"),i=Object(c["x"])("Button"),s=Object(c["x"])("router-link");return Object(c["p"])(),Object(c["d"])("div",K,[Object(c["g"])("div",null,[e.isLoading?(Object(c["p"])(),Object(c["d"])("div",V,"Loading...")):(Object(c["p"])(),Object(c["d"])("div",ee,[Object(c["g"])("h2",null,Object(c["z"])(e.currentQuestion.question),1),Object(c["g"])("div",null,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.currentQuestion.variants,(function(t){return Object(c["p"])(),Object(c["d"])(u,{key:t,name:"ans",value:t,onChange:e.setCurrentAnswer,checked:e.answers[e.currentQuestionIndex]===t,class:"ans"},null,8,["value","onChange","checked"])})),128))])])),Object(c["g"])("div",te,[Object(c["g"])(i,{class:"btn",disabled:0===e.currentQuestionIndex,onClick:t[1]||(t[1]=function(t){return e.setQuestionIndex(e.currentQuestionIndex-1)})},{default:H((function(){return[ne]})),_:1},8,["disabled"]),Object(c["g"])(i,{class:"btn",disabled:e.currentQuestionIndex===e.questions.length-1,onClick:t[2]||(t[2]=function(t){return e.setQuestionIndex(e.currentQuestionIndex+1)})},{default:H((function(){return[ce]})),_:1},8,["disabled"])]),Object(c["g"])("div",re,[Object(c["g"])(s,{to:"/result"},{default:H((function(){return[Object(c["g"])(i,{class:"btn"},{default:H((function(){return[ae]})),_:1})]})),_:1})])])])})),ue=Object(c["D"])("data-v-77a86a0a");Object(c["s"])("data-v-77a86a0a");var ie={class:"button"};Object(c["q"])();var se=ue((function(e,t,n,r,a,o){return Object(c["p"])(),Object(c["d"])("button",ie,[Object(c["w"])(e.$slots,"default",{},void 0,!0)])})),le={name:"Button"};n("fe82");le.render=se,le.__scopeId="data-v-77a86a0a";var de=le,be=Object(c["D"])("data-v-1276c7a4"),fe=be((function(e,t,n,r,a,o){return Object(c["p"])(),Object(c["d"])("div",{class:["wrapper",e.$attrs.class]},[Object(c["g"])("input",{class:"visually-hidden",onChange:t[1]||(t[1]=function(e){return n.onChange(n.value)}),name:n.name,type:"radio",checked:n.checked,id:n.name+n.value},null,40,["name","checked","id"]),Object(c["g"])("label",{for:n.name+n.value},Object(c["z"])(n.value),9,["for"])],2)})),Oe={name:"RadioButton",inheritAttrs:!1,props:["value","onChange","name","checked"]};n("ae35");Oe.render=fe,Oe.__scopeId="data-v-1276c7a4";var je=Oe,pe={name:"Quiz",components:{Button:de,RadioButton:je},computed:Object(a["a"])(Object(a["a"])({},Object(o["f"])("quiz",["questions","isLoading","currentQuestionIndex","answers"])),Object(o["d"])("quiz",["currentQuestion"])),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(o["c"])("quiz",["fetchQuestions"])),Object(o["e"])("quiz",[C.SET_QUESTION_INDEX,C.SET_CURRENT_ANSWER])),{},{htmlEncode:p,shuffle:g}),created:function(){this.fetchQuestions()}};n("e130");pe.render=oe,pe.__scopeId="data-v-a7f4adee";var ge=pe,ve=Object(c["D"])("data-v-7527d018");Object(c["s"])("data-v-7527d018");var me={class:"top"},he={key:0},_e=Object(c["f"])("Back"),ye=Object(c["g"])("h2",null," Choose number of questions: ",-1),Ce={class:"options"},Te=Object(c["g"])("h2",null," Choose difficulty: ",-1),Ee={class:"options"},Se=Object(c["f"])("start");Object(c["q"])();var Ie=ve((function(e,t,n,r,a,o){var u=Object(c["x"])("Button"),i=Object(c["x"])("RadioButton");return Object(c["p"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("div",me,[e.currentCategory?(Object(c["p"])(),Object(c["d"])("h2",he,"Category - "+Object(c["z"])(e.currentCategory.name),1)):Object(c["e"])("",!0),Object(c["g"])(u,{onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)})},{default:ve((function(){return[_e]})),_:1})]),Object(c["g"])("form",{onSubmit:t[2]||(t[2]=Object(c["C"])((function(t){return e.$router.push("/quiz")}),["prevent"]))},[Object(c["g"])("div",null,[ye,Object(c["g"])("div",Ce,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.allAmounts,(function(t){return Object(c["p"])(),Object(c["d"])(i,{value:t,key:t,checked:t===e.amount,name:"amount",onChange:e.setAmount},null,8,["value","checked","onChange"])})),128))])]),Object(c["g"])("div",null,[Te,Object(c["g"])("div",Ee,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.allDifficulties,(function(t){return Object(c["p"])(),Object(c["d"])(i,{value:t,key:t,checked:t===e.difficulty||"any"===t,name:"difficulty",onChange:e.setDifficulty},null,8,["value","checked","onChange"])})),128))])]),Object(c["g"])(u,{class:"submit",type:"submit"},{default:ve((function(){return[Se]})),_:1})],32)],64)})),ke={components:{RadioButton:je,Button:de},name:"Options",computed:Object(a["a"])({},Object(o["f"])("quiz",["currentCategory","allAmounts","allDifficulties","amount","difficulty"])),methods:Object(a["a"])({},Object(o["e"])("quiz",[C.SET_DIFFICULTY,C.SET_AMOUNT,C.CLEAR_QUIZ_STATE])),created:function(){this.clearQuizState()}};n("ef0a");ke.render=Ie,ke.__scopeId="data-v-7527d018";var we=ke,xe=Object(c["D"])("data-v-4fe1627a");Object(c["s"])("data-v-4fe1627a");var Ae={class:"wrapper"},Re={class:"container"},Qe=Object(c["f"])("try again");Object(c["q"])();var qe=xe((function(e,t,n,r,a,o){var u=Object(c["x"])("Button"),i=Object(c["x"])("router-link");return Object(c["p"])(),Object(c["d"])("div",Ae,[Object(c["g"])("div",Re,[Object(c["g"])("div",null," Correct answers: "+Object(c["z"])(e.getResults.correctAnswers)+" of "+Object(c["z"])(e.getResults.totalAnswers),1),Object(c["g"])("div",null," Percent correct answers: "+Object(c["z"])(e.getResults.percentCorrectAnswers)+"% ",1),Object(c["g"])("div",null,[Object(c["g"])(i,{to:"/"},{default:xe((function(){return[Object(c["g"])(u,{class:"btn"},{default:xe((function(){return[Qe]})),_:1})]})),_:1})])])])})),Ne={name:"Result",components:{Button:de},computed:Object(a["a"])({},Object(o["d"])("quiz",["getResults"]))};n("dd1d");Ne.render=qe,Ne.__scopeId="data-v-4fe1627a";var ze=Ne,De=[{path:"/",component:Z},{path:"/result",component:ze},{path:"/options",component:we},{path:"/quiz",component:ge}],Le=Object(M["a"])({routes:De,history:Object(M["b"])("/quiz-vue/")}),Ue=Object(c["c"])(l);Ue.use(B),Ue.use(Le),Ue.mount("#app")},"5aea":function(e,t,n){},"8b35":function(e,t,n){},9600:function(e,t,n){"use strict";n("45d1")},"9c29":function(e,t,n){"use strict";n("f705")},ae35:function(e,t,n){"use strict";n("8b35")},bf84:function(e,t,n){},dd1d:function(e,t,n){"use strict";n("bf84")},e130:function(e,t,n){"use strict";n("eee7")},eee7:function(e,t,n){},ef0a:function(e,t,n){"use strict";n("4d73")},f705:function(e,t,n){},fe82:function(e,t,n){"use strict";n("31c5")}});
//# sourceMappingURL=app.02dd2992.js.map